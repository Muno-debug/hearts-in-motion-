<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåô HEARTS IN MOTION | Beyond Compliance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #030014; /* Deep mystic space background */
            color: #e0e7ff;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; }

        /* The Mystic Stars Background (Pointer events none so it doesn't block clicks!) */
        .stars-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
            background: radial-gradient(circle at 50% 50%, #1a0b2e 0%, #030014 100%);
        }

        .star {
            position: absolute; background: white; border-radius: 50%;
            animation: twinkle infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.1; transform: scale(0.8); }
            100% { opacity: 0.8; transform: scale(1.2); box-shadow: 0 0 8px #a855f7; }
        }

        /* Glassmorphism Cards */
        .glass-card {
            background: rgba(20, 10, 40, 0.4);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(168, 85, 247, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(168, 85, 247, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .glass-card:hover {
            border-color: rgba(236, 72, 153, 0.5);
            box-shadow: 0 8px 32px rgba(236, 72, 153, 0.15), inset 0 0 20px rgba(236, 72, 153, 0.1);
        }

        .floating-moon {
            animation: float 8s ease-in-out infinite;
            filter: drop-shadow(0 0 30px rgba(236, 72, 153, 0.5));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #030014; }
        ::-webkit-scrollbar-thumb { background: #7c3aed; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #db2777; }

        .progress-bar {
            position: fixed; top: 0; left: 0; height: 3px;
            background: linear-gradient(90deg, #a855f7, #ec4899, #8b5cf6);
            z-index: 100; width: 0%; transition: width 0.1s;
        }

        /* Radio Buttons */
        input[type="radio"]:checked + label {
            background-color: rgba(236, 72, 153, 0.15);
            border-color: #ec4899;
            box-shadow: inset 0 0 10px rgba(236, 72, 153, 0.2);
        }
        
        .toast-enter { transform: translateX(120%); opacity: 0; }
        .toast-active { transform: translateX(0); opacity: 1; }
    </style>
</head>
<body class="relative text-slate-200">

    <div class="progress-bar" id="progressBar"></div>

    <div class="stars-bg" id="starsBg"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-4 py-16 flex flex-col items-center gap-20">
        
        <header class="w-full relative text-center mt-4">
            <div class="absolute right-4 top-0 text-7xl floating-moon md:block hidden">üåî</div>
            <div class="inline-flex items-center gap-2 px-5 py-2 rounded-full bg-purple-900/30 border border-purple-500/40 text-purple-200 text-sm font-medium mb-8 backdrop-blur-sm shadow-[0_0_15px_rgba(168,85,247,0.2)]">
                <span class="w-2.5 h-2.5 rounded-full bg-pink-500 animate-pulse"></span>
                <span id="pactCounter" class="font-bold text-pink-400 text-base">4,120</span> Total Global Support Pacts
            </div>
            <h1 class="text-5xl md:text-7xl font-bold tracking-tighter mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-indigo-400 drop-shadow-lg">
                HEARTS IN MOTION
            </h1>
            <h2 class="text-2xl md:text-3xl font-light text-slate-300 mb-6">Beyond Compliance ‚Äî Hypertension is a System Problem</h2>
            <p class="text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed">
                A system-level intervention inspired by Structural Violence, Human Factors Engineering, and the real voices of women in peri-urban Africa.
            </p>
        </header>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl relative overflow-hidden">
            <div class="absolute -right-20 -top-20 w-64 h-64 bg-pink-600/10 rounded-full blur-3xl"></div>
            <h2 class="text-3xl font-bold mb-6 text-pink-400 flex items-center gap-3">
                <i class="fas fa-universe"></i> It's Not Your Fault
            </h2>
            <p class="text-lg mb-6 leading-relaxed">
                Hypertension affects <span class="font-bold text-white">30-33% of adults</span> in peri-urban African settings. The failure is rooted in <span class="text-purple-400 font-semibold">Structural Violence</span> ‚Äî systemic barriers like transport costs, clinic distance, and poor policy ‚Äî not individual patient failure.
            </p>
            <div class="bg-indigo-950/40 border border-indigo-500/30 p-6 rounded-2xl mb-8 border-l-4 border-l-pink-500">
                <h3 class="text-xl font-semibold mb-2 text-white">Think of it like this:</h3>
                <p class="text-slate-300">Trying to manage hypertension with systemic barriers is like running a race with ankle weights. The weights (unaffordable clinics, lack of support, chronic stress) are the problem, not your effort.</p>
            </div>
            <div class="flex flex-wrap gap-3">
                <span class="px-4 py-2 rounded-full bg-slate-800/80 border border-slate-600 text-sm font-medium text-slate-200"><i class="fas fa-bus text-pink-400 mr-2"></i> Transport & Clinic Costs</span>
                <span class="px-4 py-2 rounded-full bg-slate-800/80 border border-slate-600 text-sm font-medium text-slate-200"><i class="fas fa-hourglass-half text-purple-400 mr-2"></i> Time Poverty & Work Loss</span>
                <span class="px-4 py-2 rounded-full bg-slate-800/80 border border-slate-600 text-sm font-medium text-slate-200"><i class="fas fa-brain text-indigo-400 mr-2"></i> Cognitive Overload</span>
            </div>
        </section>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl text-center">
            <h2 class="text-3xl font-bold mb-4 flex justify-center items-center gap-3 text-purple-400">
                <i class="fas fa-sync-alt"></i> The Stress Trap
            </h2>
            <p class="text-slate-400 mb-10 max-w-2xl mx-auto">The <span class="text-pink-400 font-medium">Caregiving Drain</span> is a vicious cycle where stress perpetuates poor adherence. Move the slider to see how burden affects heart health:</p>
            
            <div class="text-7xl mb-6 transition-transform duration-300 transform hover:scale-110 drop-shadow-[0_0_15px_rgba(255,255,255,0.2)]" id="sliderEmoji">üíõ</div>
            <h3 class="text-xl font-bold mb-8 transition-colors duration-300 text-yellow-400 h-8" id="sliderText">‚ö†Ô∏è Stress is increasing. Moderate risk.</h3>
            
            <div class="relative w-full max-w-lg mx-auto mb-4">
                <input type="range" id="burdenSlider" min="1" max="100" value="50" 
                    class="w-full h-3 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-pink-500 shadow-inner outline-none">
            </div>
            <div class="flex justify-between w-full max-w-lg mx-auto text-sm text-slate-400 font-medium mb-10">
                <span class="flex items-center gap-1"><i class="fas fa-leaf text-green-400"></i> Low Stress</span>
                <span class="flex items-center gap-1"><i class="fas fa-fire text-red-500"></i> High Stress</span>
            </div>

            <div class="bg-black/30 p-5 rounded-xl border border-purple-500/20 text-left text-sm text-slate-300">
                <strong class="text-purple-400">Key Insight:</strong> Stress makes medication adherence harder, worsening health, which increases stress. Breaking this cycle requires system-level support.
            </div>
        </section>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl">
            <h2 class="text-3xl font-bold mb-4 text-center text-indigo-400 flex justify-center items-center gap-3">
                <i class="fas fa-chart-radar"></i> Your Structural Stress Score
            </h2>
            <p class="text-slate-400 mb-10 text-center">Answer these quick questions to assess your exposure to structural stress.</p>
            
            <div class="space-y-8" id="quizContainer">
                <div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50">
                    <p class="font-medium mb-5 text-lg text-white">Q1. How many hours did you spend on caregiving last week?</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q1" value="2" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">Less than 5 hours (Low)</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q1" value="4" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">5-15 hours (Moderate)</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q1" value="6" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">15-30 hours (High)</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q1" value="8" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">Over 30 hours (Critical)</span>
                        </label>
                    </div>
                </div>

                <div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50">
                    <p class="font-medium mb-5 text-lg text-white">Q2. How long to reach the nearest health facility?</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q2" value="1" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">< 15 mins (High Access)</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q2" value="3" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">15-60 mins (Moderate)</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q2" value="5" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">> 60 mins (Low Access)</span>
                        </label>
                    </div>
                </div>

                <div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-700/50">
                    <p class="font-medium mb-5 text-lg text-white">Q3. How often are you too stressed to remember medication?</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q3" value="1" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">Never / Rarely</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q3" value="2" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">Sometimes</span>
                        </label>
                        <label class="flex items-center gap-3 p-4 rounded-xl border border-slate-700 cursor-pointer hover:bg-slate-800 transition-all">
                            <input type="radio" name="q3" value="4" class="w-5 h-5 accent-pink-500 bg-slate-800">
                            <span class="text-slate-300">Often / Always</span>
                        </label>
                    </div>
                </div>
            </div>

            <button id="calculateBtn" class="w-full mt-10 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500 text-white font-bold py-5 px-8 rounded-2xl transition-all duration-300 shadow-[0_0_20px_rgba(168,85,247,0.4)] hover:shadow-[0_0_35px_rgba(236,72,153,0.6)] transform hover:-translate-y-1 text-lg tracking-wide uppercase">
                Calculate My Score
            </button>

            <div id="resultBox" class="hidden mt-8 p-8 rounded-2xl border border-slate-600 text-center transition-all duration-500 bg-black/40 backdrop-blur-md">
                <h3 class="text-xl text-slate-400 mb-3 font-medium uppercase tracking-widest">Your Score</h3>
                <div class="flex justify-center items-baseline gap-2 mb-4">
                    <span id="scoreDisplay" class="text-6xl font-bold">--</span>
                    <span class="text-2xl text-slate-500">/ 17</span>
                </div>
                <p id="diagnosisDisplay" class="font-medium text-xl"></p>
            </div>
        </section>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl relative overflow-hidden text-center">
            <div class="absolute -left-20 top-0 w-64 h-64 bg-purple-600/10 rounded-full blur-3xl"></div>
            
            <h2 class="text-3xl font-bold mb-4 flex justify-center items-center gap-3 text-pink-400">
                <i class="fas fa-rocket"></i> Start Your Support Pact
            </h2>
            <p class="text-slate-300 mb-10 max-w-2xl mx-auto">This intervention uses <span class="text-purple-400 font-semibold">Human Factors Engineering</span> principles to be intuitive, fail-safe, and reduce cognitive load.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 relative z-10">
                <div class="bg-black/30 p-6 rounded-2xl border border-purple-500/20">
                    <div class="w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center text-pink-400 text-2xl font-bold mx-auto mb-4 border border-pink-500/30">1</div>
                    <h3 class="font-bold text-lg mb-2 text-white">Find a Partner</h3>
                    <p class="text-sm text-slate-400">Someone who can spare 15 minutes weekly for a shared chore or check-in.</p>
                </div>
                <div class="bg-black/30 p-6 rounded-2xl border border-purple-500/20">
                    <div class="w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center text-purple-400 text-2xl font-bold mx-auto mb-4 border border-purple-500/30">2</div>
                    <h3 class="font-bold text-lg mb-2 text-white">Define 15 Minutes</h3>
                    <p class="text-sm text-slate-400">Time strictly dedicated to reducing your burden (low cognitive load).</p>
                </div>
                <div class="bg-black/30 p-6 rounded-2xl border border-purple-500/20">
                    <div class="w-12 h-12 bg-indigo-500/20 rounded-full flex items-center justify-center text-indigo-400 text-2xl font-bold mx-auto mb-4 border border-indigo-500/30">3</div>
                    <h3 class="font-bold text-lg mb-2 text-white">Commit & Check In</h3>
                    <p class="text-sm text-slate-400">Use weekly messages (WhatsApp/SMS) as your ongoing support structure.</p>
                </div>
            </div>

            <button id="commitBtn" class="relative z-10 bg-white text-purple-950 font-black py-5 px-10 rounded-full text-xl transition-all duration-300 hover:scale-105 hover:shadow-[0_0_40px_rgba(255,255,255,0.4)] uppercase tracking-wide">
                ü§ù I Commit! Record My Pact
            </button>
            <p id="commitSuccess" class="hidden text-green-400 mt-6 font-medium animate-pulse text-lg">Your pact has been recorded! Thank you for breaking the cycle.</p>
        </section>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl text-center">
            <h2 class="text-3xl font-bold mb-4 flex justify-center items-center gap-3 text-purple-400">
                <i class="fas fa-envelope-open-text"></i> Get Your Starter Guide
            </h2>
            <p class="text-slate-300 mb-8 max-w-xl mx-auto">Enter your email to receive the 1-Page Starter Guide and join our advocacy network.</p>
            
            <div class="max-w-md mx-auto relative mb-4">
                <input type="email" id="emailInput" placeholder="your.email@example.com" 
                    class="w-full bg-slate-900 border-2 border-slate-700 text-white px-6 py-4 rounded-full focus:outline-none focus:border-pink-500 focus:ring-4 focus:ring-pink-500/20 transition-all shadow-inner text-lg">
                <button id="emailBtn" class="absolute right-2 top-2 bottom-2 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white px-8 rounded-full font-bold transition-all shadow-lg hover:shadow-pink-500/50">
                    Sign Up
                </button>
            </div>
            <p class="text-xs text-slate-500"><i class="fas fa-lock text-slate-600 mr-1"></i> Sent to munotidaishe608@gmail.com. Response within 24-48 hours.</p>
        </section>

        <section class="w-full glass-card p-8 md:p-12 rounded-3xl text-left">
            <h2 class="text-3xl font-bold mb-8 text-center text-white flex justify-center items-center gap-3">
                <i class="fas fa-question-circle text-indigo-400"></i> Frequently Asked Questions
            </h2>
            <div class="space-y-4">
                
                <div class="faq-item bg-slate-900/50 rounded-2xl cursor-pointer border border-slate-700 hover:border-pink-500 transition-colors">
                    <div class="flex justify-between items-center p-6">
                        <h4 class="font-semibold text-lg text-white">What is the "Caregiving Drain" (Vicious Cycle)?</h4>
                        <i class="fas fa-plus text-pink-400 transition-transform duration-300 faq-icon text-xl"></i>
                    </div>
                    <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 px-6">
                        <p class="pb-6 text-slate-300 leading-relaxed">It's a Systems Thinking concept where increased domestic and caregiving duties (stress) lead to fatigue and lack of time, causing poor medication adherence, which worsens blood pressure, increasing health-related stress ‚Äî perpetuating the vicious cycle.</p>
                    </div>
                </div>

                <div class="faq-item bg-slate-900/50 rounded-2xl cursor-pointer border border-slate-700 hover:border-pink-500 transition-colors">
                    <div class="flex justify-between items-center p-6">
                        <h4 class="font-semibold text-lg text-white">How does Structural Violence relate to my health?</h4>
                        <i class="fas fa-plus text-pink-400 transition-transform duration-300 faq-icon text-xl"></i>
                    </div>
                    <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 px-6">
                        <p class="pb-6 text-slate-300 leading-relaxed">Structural Violence (Medical Anthropology concept) means your poor health outcomes are caused by social and political structures (unaffordable clinics, weak transport, poor policy), not personal choices. This perspective shift is the first step toward collective advocacy.</p>
                    </div>
                </div>

                <div class="faq-item bg-slate-900/50 rounded-2xl cursor-pointer border border-slate-700 hover:border-pink-500 transition-colors">
                    <div class="flex justify-between items-center p-6">
                        <h4 class="font-semibold text-lg text-white">Why focus on "Low Cognitive Load"?</h4>
                        <i class="fas fa-plus text-pink-400 transition-transform duration-300 faq-icon text-xl"></i>
                    </div>
                    <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 px-6">
                        <p class="pb-6 text-slate-300 leading-relaxed">Human Factors Engineering (HFE) principles demand that solutions be easy to use under pressure. Since hypertension patients often experience stress and high cognitive load, our action plan focuses on simple, 15-minute, zero-guilt actions to maximize adherence.</p>
                    </div>
                </div>

                <div class="faq-item bg-slate-900/50 rounded-2xl cursor-pointer border border-slate-700 hover:border-pink-500 transition-colors">
                    <div class="flex justify-between items-center p-6">
                        <h4 class="font-semibold text-lg text-white">Who created this project?</h4>
                        <i class="fas fa-plus text-pink-400 transition-transform duration-300 faq-icon text-xl"></i>
                    </div>
                    <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 px-6">
                        <p class="pb-6 text-slate-300 leading-relaxed">This is an independent research project by <strong>Munotidaishe (Moon) Mantiziba</strong>, a gap year student from Zimbabwe passionate about health equity and systems thinking. The project synthesizes Medical Anthropology, Human Factors Engineering, and the real voices of women in peri-urban communities.</p>
                    </div>
                </div>

            </div>
        </section>

        <footer class="w-full text-center pb-12 border-t border-slate-800/50 pt-12 mt-4 relative z-10">
            <h1 class="text-2xl font-bold tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-4 opacity-70">MOON</h1>
            <p class="text-slate-500 text-sm mb-2">¬© 2025 Independent Research Project by Munotidaishe Mantiziba</p>
            <p class="text-slate-600 text-xs max-w-lg mx-auto">A system-level intervention inspired by Structural Violence, HFE, and community voices.</p>
        </footer>
    </div>

    <div id="toastContainer" class="fixed top-24 right-4 z-50 flex flex-col gap-3 pointer-events-none"></div>

    <script>
        // --- 1. STARS BACKGROUND ---
        const createStars = () => {
            const bg = document.getElementById('starsBg');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                bg.appendChild(star);
            }
        };

        // --- 2. PROGRESS BAR ---
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            document.getElementById('progressBar').style.width = (winScroll / height) * 100 + "%";
        });

        // --- 3. TOAST SYSTEM ---
        const showToast = (message, type = 'info') => {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            let borderClass = type === 'success' ? 'border-green-500' : type === 'warning' ? 'border-orange-500' : 'border-purple-500';
            
            toast.className = `toast-enter p-4 rounded-xl shadow-2xl flex items-center gap-3 text-white font-medium transition-all duration-300 ease-out pointer-events-auto bg-slate-900 border-l-4 ${borderClass}`;
            toast.innerHTML = `<span>${message}</span>`;
            
            container.appendChild(toast);
            requestAnimationFrame(() => toast.classList.replace('toast-enter', 'toast-active'));
            setTimeout(() => {
                toast.classList.replace('toast-active', 'toast-enter');
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        };

        // --- 4. SLIDER LOGIC ---
        const slider = document.getElementById('burdenSlider');
        const emoji = document.getElementById('sliderEmoji');
        const sliderText = document.getElementById('sliderText');

        slider.addEventListener('input', (e) => {
            const val = e.target.value;
            if (val < 33) {
                emoji.innerText = 'üòå';
                sliderText.innerHTML = '‚úÖ <span class="text-green-400">Low Stress.</span> System is balanced.';
            } else if (val < 66) {
                emoji.innerText = 'üíõ';
                sliderText.innerHTML = '‚ö†Ô∏è <span class="text-yellow-400">Stress increasing.</span> Moderate risk.';
            } else {
                emoji.innerText = 'üò∞';
                sliderText.innerHTML = 'üö® <span class="text-red-500">High Stress.</span> Critical support needed.';
            }
        });

        // --- 5. CALCULATOR LOGIC (OUT OF 17) ---
        document.getElementById('calculateBtn').addEventListener('click', () => {
            const q1 = document.querySelector('input[name="q1"]:checked');
            const q2 = document.querySelector('input[name="q2"]:checked');
            const q3 = document.querySelector('input[name="q3"]:checked');
            
            if (!q1 || !q2 || !q3) {
                showToast("‚ö†Ô∏è Please answer all 3 questions to get your score.", "warning");
                return;
            }

            // Max points: Q1(8) + Q2(5) + Q3(4) = 17
            const total = parseInt(q1.value) + parseInt(q2.value) + parseInt(q3.value);
            const box = document.getElementById('resultBox');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const diagDisplay = document.getElementById('diagnosisDisplay');

            box.classList.remove('hidden');
            scoreDisplay.innerText = total;

            if (total <= 7) {
                box.className = "mt-8 p-8 rounded-2xl border-2 border-green-500 bg-green-900/20 text-center block backdrop-blur-md";
                scoreDisplay.className = "text-6xl font-bold text-green-400";
                diagDisplay.innerHTML = "‚úÖ <strong>Low Stress:</strong> Maintain your support system, stay aware of potential traps.";
                diagDisplay.className = "font-medium text-lg text-green-300 mt-2";
            } else if (total <= 12) {
                box.className = "mt-8 p-8 rounded-2xl border-2 border-yellow-500 bg-yellow-900/20 text-center block backdrop-blur-md";
                scoreDisplay.className = "text-6xl font-bold text-yellow-400";
                diagDisplay.innerHTML = "‚ö†Ô∏è <strong>Moderate Stress:</strong> You are experiencing structural friction. Time to ask for support.";
                diagDisplay.className = "font-medium text-lg text-yellow-300 mt-2";
            } else {
                box.className = "mt-8 p-8 rounded-2xl border-2 border-red-500 bg-red-900/20 text-center block backdrop-blur-md";
                scoreDisplay.className = "text-6xl font-bold text-red-500";
                diagDisplay.innerHTML = "üö® <strong>High Stress:</strong> Critical structural burden. Implement the 15-minute pact immediately.";
                diagDisplay.className = "font-medium text-lg text-red-400 mt-2";
            }
            
            box.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });

        // --- 6. COMMIT PACT COUNTER ---
        let currentPacts = localStorage.getItem('pactCountMoon') ? parseInt(localStorage.getItem('pactCountMoon')) : 4120;
        let hasCommitted = localStorage.getItem('hasCommittedMoon') === 'true';
        
        const counterEl = document.getElementById('pactCounter');
        const commitBtn = document.getElementById('commitBtn');
        const successMsg = document.getElementById('commitSuccess');

        counterEl.innerText = currentPacts.toLocaleString();

        if (hasCommitted) {
            commitBtn.innerText = "Pact Recorded! ‚úÖ";
            commitBtn.classList.add('opacity-50', 'cursor-not-allowed');
            successMsg.classList.remove('hidden');
        }

        commitBtn.addEventListener('click', () => {
            if (hasCommitted) return;
            currentPacts++;
            hasCommitted = true;
            localStorage.setItem('pactCountMoon', currentPacts);
            localStorage.setItem('hasCommittedMoon', 'true');
            
            counterEl.innerText = currentPacts.toLocaleString();
            commitBtn.innerText = "Pact Recorded! ‚úÖ";
            commitBtn.classList.add('opacity-50', 'cursor-not-allowed', 'scale-100');
            successMsg.classList.remove('hidden');
            showToast("üåå Pact committed! You are making a difference.", "success");
        });

        // --- 7. EMAIL LOGIC ---
        document.getElementById('emailBtn').addEventListener('click', () => {
            const emailInput = document.getElementById('emailInput');
            const email = emailInput.value.trim();
            if (!email || !email.includes('@') || !email.includes('.')) {
                showToast('‚ö†Ô∏è Please enter a valid email address.', 'warning');
                emailInput.focus();
                return;
            }
            emailInput.value = '';
            document.getElementById('emailBtn').innerText = "Subscribed! ‚úì";
            showToast('üì© Starter Guide is on its way to your inbox!', 'success');
        });

        // --- 8. FAQ LOGIC ---
        document.querySelectorAll('.faq-item').forEach(item => {
            item.addEventListener('click', () => {
                const content = item.querySelector('.faq-content');
                const icon = item.querySelector('.faq-icon');
                const isOpen = !content.classList.contains('max-h-0');

                document.querySelectorAll('.faq-content').forEach(c => {
                    c.classList.add('max-h-0'); c.classList.remove('max-h-96');
                });
                document.querySelectorAll('.faq-icon').forEach(i => {
                    i.classList.remove('rotate-45', 'text-white');
                });

                if (!isOpen) {
                    content.classList.remove('max-h-0');
                    content.classList.add('max-h-96');
                    icon.classList.add('rotate-45', 'text-white');
                }
            });
        });

        window.onload = createStars;
    </script>
</body>
</html>